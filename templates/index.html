<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuellytics</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="manifest" href="/static/manifest.json">
    <link rel="apple-touch-icon" href="/static/img/icons/apple-icon-180x180.png">
    <meta name="theme-color" content="rgb(255,255,255)">
</head>
<body>
    <div id="splashScreen">
        <div id="splashContent">
            <svg id="logoSvg" width="522" height="554" viewBox="0 0 522 554" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M119.725 0H258.763C276.215 0 290.363 14.1476 290.363 31.5995V97.5071H298.94C316.392 97.5071 330.539 111.655 330.539 129.107V136.329L311.579 139.489V132.718C311.579 125.239 305.516 119.175 298.037 119.175H290.363V193.66L263.744 215.903C260.157 218.9 254.876 218.664 251.571 215.359L227.627 191.415C224.304 188.092 218.988 187.874 215.404 190.913L88.1256 298.841V31.5995C88.1256 14.1476 102.273 0 119.725 0ZM244.318 30.6967H132.365C124.886 30.6967 118.822 36.7599 118.822 44.2393V103.827C118.822 111.306 124.886 117.37 132.365 117.37H244.318C251.797 117.37 257.86 111.306 257.86 103.827V44.2393C257.86 36.7599 251.797 30.6967 244.318 30.6967Z" fill="#3498DB"/>
            <path d="M88.1256 355.303C88.1256 352.542 90.3642 350.303 93.1256 350.303H122.851C125.612 350.303 127.851 352.542 127.851 355.303V376C127.851 378.761 125.612 381 122.851 381H93.1256C90.3642 381 88.1256 378.761 88.1256 376V355.303Z" fill="url(#paint0_linear_37_12)"/>
            <path d="M148.616 325.509C148.616 322.748 150.855 320.509 153.616 320.509H183.341C186.103 320.509 188.341 322.748 188.341 325.509V376C188.341 378.761 186.103 381 183.341 381H153.616C150.855 381 148.616 378.761 148.616 376V325.509Z" fill="url(#paint1_linear_37_12)"/>
            <path d="M209.107 294.813C209.107 292.051 211.345 289.813 214.107 289.813H243.832C246.593 289.813 248.832 292.051 248.832 294.813V376C248.832 378.761 246.593 381 243.832 381H214.107C211.345 381 209.107 378.761 209.107 376V294.813Z" fill="url(#paint2_linear_37_12)"/>
            <path d="M269.597 264.116C269.597 261.355 271.836 259.116 274.597 259.116H304.322C307.084 259.116 309.322 261.355 309.322 264.116V376C309.322 378.761 307.084 381 304.322 381H274.597C271.836 381 269.597 378.761 269.597 376V264.116Z" fill="url(#paint3_linear_37_12)"/>
            <path d="M330.088 240.642C330.088 237.881 332.326 235.642 335.088 235.642H364.813C367.574 235.642 369.813 237.881 369.813 240.642V376C369.813 378.761 367.574 381 364.813 381H335.088C332.326 381 330.088 378.761 330.088 376V240.642Z" fill="url(#paint4_linear_37_12)"/>
            <path d="M83.2373 328.669C81.4494 326.565 81.706 323.409 83.8105 321.621L218.096 207.537C220.2 205.749 223.356 206.006 225.144 208.111L250.06 237.439C251.848 239.543 255.003 239.8 257.108 238.012L329.031 176.909C331.136 175.121 331.392 171.965 329.604 169.861L326.629 166.359C324.164 163.457 325.718 158.975 329.45 158.221L367.181 150.599C371.035 149.82 374.239 153.59 372.847 157.269L359.228 193.272C357.881 196.833 353.206 197.642 350.741 194.74L347.77 191.243C345.982 189.138 342.827 188.882 340.722 190.669L255.026 263.452C252.922 265.24 249.767 264.983 247.979 262.879L223.074 233.563C221.286 231.458 218.13 231.202 216.026 232.99L95.5015 335.383C93.397 337.17 90.2416 336.914 88.4537 334.809L83.2373 328.669Z" fill="url(#paint5_linear_37_12)"/>
            <path d="M381.55 322.767V302.904C406.829 301.098 420.372 283.042 420.372 262.276C420.372 222.1 408.184 202.237 408.184 143.101H428.046C428.046 200.772 442.04 241.059 442.04 262.276C442.04 277.624 431.206 322.767 381.55 322.767Z" fill="#3498DB"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M369.813 122.787L360.334 76.2549C360.036 74.7923 360.069 73.2816 360.431 71.8335L365.459 51.7234C366.121 49.074 364.535 46.3832 361.897 45.6795L332.796 37.9194C327.379 35.6623 324.671 30.2453 326.025 25.2796C327.379 20.314 334.602 16.7026 340.019 18.0569L393.745 32.5893C394.626 32.8278 395.426 33.303 396.056 33.9635L431.823 71.4333C432.593 72.2405 433.072 73.2822 433.182 74.3926L437.977 122.787C438.429 126.398 435.269 131.364 430.755 131.364H383.807C378.841 131.364 372.07 128.655 369.813 122.787ZM409.989 112.821C409.989 115.583 407.751 117.821 404.989 117.821H391.03C386.967 117.821 383.807 115.564 382.001 109.244L377.603 83.9527C377.071 80.8946 379.425 78.096 382.529 78.096H392.835C401.412 78.096 409.989 94.7986 409.989 101.119V112.821Z" fill="#3498DB"/>
            <path d="M5 502.545C2.23857 502.545 0 500.307 0 497.545V409.502C0 406.74 2.23858 404.502 5 404.502H60.3658C63.1272 404.502 65.3658 406.74 65.3658 409.502V416.449C65.3658 419.211 63.1272 421.449 60.3658 421.449H22.0857C21.5335 421.449 21.0857 421.897 21.0857 422.449V444.26C21.0857 444.812 21.5335 445.26 22.0857 445.26H50.9475C53.7089 445.26 55.9475 447.498 55.9475 450.26V456.647C55.9475 459.409 53.7089 461.647 50.9475 461.647H22.0857C21.5335 461.647 21.0857 462.095 21.0857 462.647V497.545C21.0857 500.307 18.8472 502.545 16.0857 502.545H5Z" fill="#3498DB"/>
            <path d="M84.5505 504.226C78.6465 504.226 73.6328 503.012 69.5094 500.585C65.4797 498.157 62.3871 494.609 60.2316 489.94C58.1699 485.178 57.1391 479.388 57.1391 472.572V436.954C57.1391 434.192 59.3776 431.954 62.1391 431.954H73.2248C75.9862 431.954 78.2248 434.192 78.2248 436.954V470.471C78.2248 475.7 79.3025 479.715 81.458 482.516C83.6134 485.224 87.0808 486.578 91.8603 486.578C94.7654 486.578 97.3426 485.925 99.5917 484.617C101.935 483.31 103.715 481.396 104.933 478.875C106.245 476.354 106.901 473.272 106.901 469.631V436.954C106.901 434.192 109.14 431.954 111.901 431.954H122.987C125.749 431.954 127.987 434.192 127.987 436.954V497.545C127.987 500.307 125.749 502.545 122.987 502.545H113.876C111.402 502.545 109.3 500.736 108.932 498.29L108.332 494.307C108.189 493.357 106.86 493.104 106.303 493.887C104.385 496.58 101.914 498.859 98.8889 500.725C94.9528 503.059 90.1734 504.226 84.5505 504.226Z" fill="#3498DB"/>
            <path d="M276.187 554C272.577 554 270.157 550.291 271.611 546.986L284.986 516.588C285.244 516.001 284.815 515.343 284.174 515.343V515.343C282.434 515.343 280.854 514.326 280.134 512.742L254.624 456.648C253.761 454.75 255.148 452.595 257.233 452.595V452.595C268.476 452.595 278.68 459.166 283.331 469.401L294.24 493.407C294.608 494.217 295.77 494.179 296.085 493.348L304.959 469.949C308.92 459.503 318.928 452.595 330.1 452.595V452.595C332.029 452.595 333.33 454.565 332.573 456.339L292.172 550.963C291.386 552.805 289.576 554 287.574 554H276.187Z" fill="url(#paint6_linear_37_12)"/>
            <path d="M362.668 502.545C357.514 502.545 352.969 501.752 349.033 500.164C345.097 498.484 342.051 495.776 339.896 492.041C337.74 488.306 336.663 483.217 336.663 476.774V450.462C336.663 449.909 336.215 449.462 335.663 449.462H329.573C326.812 449.462 324.573 447.223 324.573 444.462V436.954C324.573 434.192 326.812 431.954 329.573 431.954H335.769C336.278 431.954 336.706 431.572 336.763 431.066L338.41 416.503C338.696 413.975 340.834 412.065 343.378 412.065H352.748C355.51 412.065 357.748 414.304 357.748 417.065V430.954C357.748 431.506 358.196 431.954 358.748 431.954H370.882C373.644 431.954 375.882 434.192 375.882 436.954V444.462C375.882 447.223 373.644 449.462 370.882 449.462H358.748C358.196 449.462 357.748 449.909 357.748 450.462V477.054C357.748 479.855 358.357 481.863 359.576 483.077C360.888 484.197 363.09 484.757 366.183 484.757H370.882C373.644 484.757 375.882 486.996 375.882 489.757V497.545C375.882 500.307 373.644 502.545 370.882 502.545H362.668Z" fill="#4CAF50"/>
            <path d="M383.316 502.545C380.554 502.545 378.316 500.307 378.316 497.545V436.954C378.316 434.192 380.554 431.954 383.316 431.954H394.401C397.163 431.954 399.401 434.192 399.401 436.954V497.545C399.401 500.307 397.163 502.545 394.401 502.545H383.316ZM388.859 423.83C385.11 423.83 382.064 422.756 379.721 420.609C377.379 418.461 376.207 415.753 376.207 412.485C376.207 409.124 377.379 406.369 379.721 404.221C382.064 402.074 385.11 401 388.859 401C392.701 401 395.793 402.074 398.136 404.221C400.573 406.369 401.791 409.124 401.791 412.485C401.791 415.753 400.573 418.461 398.136 420.609C395.793 422.756 392.701 423.83 388.859 423.83Z" fill="#4CAF50"/>
            <path d="M438.927 504.226C431.618 504.226 425.151 502.639 419.528 499.464C413.999 496.289 409.642 491.947 406.455 486.438C403.363 480.929 401.816 474.626 401.816 467.53C401.816 460.246 403.363 453.85 406.455 448.341C409.642 442.739 413.999 438.35 419.528 435.175C425.151 431.907 431.618 430.273 438.927 430.273C446.59 430.273 453.23 431.929 458.847 435.241C460.912 436.459 461.481 439.102 460.4 441.241L453.158 455.574C452.747 456.388 451.494 456.287 451.095 455.467C450.187 453.598 448.895 452.063 447.221 450.862C444.878 449.182 442.067 448.341 438.787 448.341C435.694 448.341 432.977 449.135 430.634 450.722C428.385 452.216 426.604 454.411 425.292 457.305C423.98 460.106 423.324 463.421 423.324 467.25C423.324 470.144 423.699 472.759 424.448 475.093C425.198 477.428 426.229 479.435 427.541 481.116C428.947 482.797 430.587 484.104 432.461 485.038C434.335 485.878 436.444 486.298 438.787 486.298C441.036 486.298 443.004 485.925 444.691 485.178C446.471 484.431 447.971 483.357 449.189 481.956C449.952 481.142 450.588 480.217 451.097 479.182C451.5 478.363 452.759 478.254 453.175 479.066L460.373 493.115C461.469 495.254 460.907 497.907 458.844 499.14C453.168 502.531 446.529 504.226 438.927 504.226Z" fill="#4CAF50"/>
            <path d="M491.35 504.226C484.696 504.226 478.933 503.199 474.06 501.145C471.017 499.778 468.373 498.108 466.128 496.135C464.039 494.299 464.484 491.092 466.703 489.415L477.756 481.06C478.332 480.625 479.171 480.926 479.421 481.603C479.799 482.627 480.308 483.585 480.948 484.477C481.979 485.691 483.337 486.672 485.024 487.419C486.805 488.072 488.773 488.399 490.928 488.399C493.271 488.399 495.145 488.119 496.551 487.559C498.051 486.905 499.175 486.065 499.925 485.038C500.675 484.01 501.049 482.937 501.049 481.816C501.049 480.042 500.487 478.688 499.363 477.754C498.332 476.821 496.785 476.074 494.724 475.513C492.662 474.86 490.179 474.253 487.273 473.693C483.9 472.946 480.526 472.105 477.152 471.171C473.872 470.144 470.92 468.884 468.296 467.39C465.766 465.896 463.704 463.981 462.111 461.647C460.612 459.219 459.862 456.278 459.862 452.823C459.862 448.621 461.033 444.84 463.376 441.478C465.719 438.023 469.093 435.315 473.497 433.354C477.902 431.3 483.244 430.273 489.523 430.273C496.295 430.273 501.955 431.408 506.504 433.677C508.862 434.853 509.322 437.853 507.848 440.037L500.963 450.236C500.491 450.935 499.366 450.781 498.896 450.081C498.259 449.131 497.384 448.365 496.27 447.781C494.489 446.754 492.24 446.24 489.523 446.24C486.43 446.24 484.087 446.754 482.494 447.781C480.901 448.808 480.104 450.162 480.104 451.843C480.104 452.963 480.62 453.99 481.65 454.924C482.775 455.764 484.368 456.511 486.43 457.165C488.492 457.819 491.022 458.472 494.021 459.126C499.737 460.34 504.657 461.647 508.781 463.048C512.998 464.448 516.278 466.503 518.621 469.211C520.964 471.825 522.088 475.653 521.995 480.696C522.088 485.271 520.87 489.333 518.34 492.881C515.903 496.429 512.389 499.231 507.797 501.285C503.205 503.246 497.723 504.226 491.35 504.226Z" fill="#4CAF50"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M167.053 504.226C159.743 504.226 153.324 502.732 147.795 499.744C142.265 496.663 137.908 492.414 134.721 486.998C131.629 481.489 130.083 475.187 130.083 468.09C130.083 460.807 131.629 454.317 134.721 448.621C137.814 442.925 142.125 438.443 147.654 435.175C153.183 431.907 159.603 430.273 166.912 430.273C174.035 430.273 180.267 431.814 185.608 434.895C190.95 437.977 195.12 442.178 198.119 447.501C201.212 452.73 202.758 458.799 202.758 465.709C202.758 466.643 202.711 467.717 202.618 468.93V468.93C202.618 470.954 200.843 472.432 198.82 472.432H152.047C151.463 472.432 151.001 472.93 151.076 473.509C151.342 475.563 151.888 477.445 152.715 479.155C154.027 481.676 155.854 483.637 158.197 485.038C160.633 486.438 163.492 487.139 166.772 487.139C169.864 487.139 172.395 486.532 174.363 485.318C174.644 485.139 174.917 484.955 175.18 484.764C177.692 482.95 181.324 482.217 183.713 484.19L189.883 489.283C192.075 491.093 192.336 494.396 190.139 496.201C187.788 498.132 185.154 499.78 182.235 501.145C177.643 503.199 172.582 504.226 167.053 504.226ZM176.893 450.862C179.365 452.985 180.79 455.765 181.169 459.201C181.231 459.768 180.773 460.246 180.202 460.246H152.668C152.035 460.246 151.56 459.665 151.721 459.053C152.049 457.807 152.474 456.664 152.996 455.624C154.495 452.823 156.463 450.722 158.9 449.322C161.336 447.921 164.054 447.221 167.053 447.221C170.989 447.221 174.269 448.435 176.893 450.862Z" fill="#3498DB"/>
            <path d="M250.633 406.701C250.633 403.939 248.395 401.7 245.633 401.7H234.548C231.787 401.7 229.548 403.939 229.548 406.7V476.929C229.555 479.678 229.76 482.179 230.163 484.432C230.693 487.399 231.566 489.935 232.781 492.041C233.079 492.557 233.394 493.054 233.727 493.532C235.796 496.505 238.527 498.716 241.918 500.164C245.854 501.752 250.399 502.545 255.554 502.545V502.545C257.495 502.545 259.068 500.972 259.068 499.031V489.757C259.068 486.996 256.728 485.02 254.146 484.04C253.477 483.786 252.916 483.465 252.461 483.077C251.243 481.863 250.626 479.73 250.626 476.929L250.633 406.701Z" fill="#3498DB"/>
            <path d="M225.292 406.701C225.292 403.939 223.054 401.7 220.292 401.7H209.207C206.445 401.7 204.207 403.939 204.207 406.7V476.929C204.224 483.298 205.302 488.336 207.44 492.041C209.595 495.776 212.641 498.484 216.577 500.164C220.513 501.752 225.058 502.545 230.212 502.545V502.545C232.153 502.545 233.727 500.972 233.727 499.031V493.532C233.394 493.054 233.079 492.557 232.781 492.041C231.566 489.935 230.693 487.399 230.163 484.432C228.869 484.156 227.855 483.704 227.12 483.077C225.902 481.863 225.285 479.73 225.285 476.929L225.292 406.701Z" fill="#3498DB"/>
            <defs>
                <linearGradient id="paint0_linear_37_12" x1="131.011" y1="359.453" x2="331.442" y2="359.211" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00D200"/>
                    <stop offset="0.495192" stop-color="#D2D200"/>
                    <stop offset="1" stop-color="#D20000"/>
                </linearGradient>
                <linearGradient id="paint1_linear_37_12" x1="131.011" y1="359.453" x2="331.442" y2="359.211" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00D200"/>
                    <stop offset="0.495192" stop-color="#D2D200"/>
                    <stop offset="1" stop-color="#D20000"/>
                </linearGradient>
                <linearGradient id="paint2_linear_37_12" x1="131.011" y1="359.453" x2="331.442" y2="359.211" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00D200"/>
                    <stop offset="0.495192" stop-color="#D2D200"/>
                    <stop offset="1" stop-color="#D20000"/>
                </linearGradient>
                <linearGradient id="paint3_linear_37_12" x1="131.011" y1="359.453" x2="331.442" y2="359.211" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00D200"/>
                    <stop offset="0.495192" stop-color="#D2D200"/>
                    <stop offset="1" stop-color="#D20000"/>
                </linearGradient>
                <linearGradient id="paint4_linear_37_12" x1="131.011" y1="359.453" x2="331.442" y2="359.211" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00D200"/>
                    <stop offset="0.495192" stop-color="#D2D200"/>
                    <stop offset="1" stop-color="#D20000"/>
                </linearGradient>
                <linearGradient id="paint5_linear_37_12" x1="131.011" y1="359.453" x2="331.442" y2="359.211" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00D200"/>
                    <stop offset="0.495192" stop-color="#D2D200"/>
                    <stop offset="1" stop-color="#D20000"/>
                </linearGradient>
                <linearGradient id="paint6_linear_37_12" x1="251.919" y1="477.666" x2="334.782" y2="477.666" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#4CAF50"/>
                    <stop offset="1" stop-color="#3498DB"/>
                </linearGradient>
            </defs>
        </svg>
        </div>
    </div>
    <header>
        <div id="floatingHeader">
            <a href="/" class="nav-link current">Carte</a>
            <a href="/overview" class="nav-link">Stats</a>
            <a href="/about" class="nav-link">À propos</a>
        </div>
        <div id="controls">
            <select id="fuelSelect">
                <option value="SP98">SP98</option>
                <option value="Gazole">Gazole</option>
                <option value="E10">E10</option>
                <option value="SP95">SP95</option>
                <option value="E85">E85</option>
                <option value="GPLc">GPLc</option>
            </select>
            <input id="searchInput" type="text" placeholder="Rechercher une ville..." />
            <button id="searchButton">Aller</button>
        </div>
    </header>

    <div id="map"></div>
    <div id="historyBox" style="display: none">
        <div id="stationInfo"></div>
        <div id="historyChart"></div>
    </div>
    <div id="notification">
        <div id="loadingMessage" class="notif" >
            ⛽ Chargement des données...
        </div>
        <div id="fuelMessage" class="notif">
            Préférence enregistrée ✅
        </div>
    </div>

    <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="/static/js/base.js"></script>
    <script src="/static/js/map.js"></script>
</body>
</html>